<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Open Trivia
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="ion-padding">
    <div *ngIf="!beginGame">
      <ion-list>
        <ion-item>
          <ion-label position="floating">Votre pseudo</ion-label>
          <ion-input type="string" [(ngModel)]="pseudo"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>Difficult√©</ion-label>
          <ion-select [(ngModel)]="difficulte">
            <ion-select-option value="easy">Easy</ion-select-option>
            <ion-select-option value="medium">Medium</ion-select-option>
            <ion-select-option value="hard">Hard</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-toggle [(ngModel)]="sauvegarder"></ion-toggle> Sauvegarder mes informations
        </ion-item>
      </ion-list>
      <ion-button expand="full" (click)="commencer()">Commencer</ion-button>
    </div>

    <div *ngIf="beginGame">
      <ion-text color="primary">
        <p class="ion-text-center">Bienvenue {{ pseudo }}</p>
      </ion-text>

      <h3 class="ion-text-center" [innerHTML]="questionCourante.question" *ngIf="questionCourante"></h3>
      <ion-grid *ngIf="questionCourante && questionCourante.answers">
        <ion-row>
          <ion-col size="6" *ngFor="let answer of questionCourante.answers">
            <ion-button color="transparent" (click)="reponse(answer)" expand="full"
              [ngClass]="{'good' : nextQuestion && answer.correct, 'bad' : nextQuestion && !answer.correct, unknown: !nextQuestion}">
              {{ answer.answer }}</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-button *ngIf="nextQuestion && !endGame" expand="full" (click)="questionSuivante()">Question suivante
      </ion-button>
      <ion-button *ngIf="nextQuestion && endGame" expand="full" (click)="retour()">Voir mon score</ion-button>
    </div>
  </div>
</ion-content>